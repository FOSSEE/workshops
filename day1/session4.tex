%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Tutorial slides on Python.
%
% Author: FOSSEE 
% Copyright (c) 2009, FOSSEE, IIT Bombay
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[14pt,compress]{beamer}
%\documentclass[draft]{beamer}
%\documentclass[compress,handout]{beamer}
%\usepackage{pgfpages} 
%\pgfpagesuselayout{2 on 1}[a4paper,border shrink=5mm]

% Modified from: generic-ornate-15min-45min.de.tex
\mode<presentation>
{
  \usetheme{Warsaw}
  \useoutertheme{split}
  \setbeamercovered{transparent}
}

\usepackage[english]{babel}
\usepackage[latin1]{inputenc}
%\usepackage{times}
\usepackage[T1]{fontenc}
\usepackage{amsmath}

% Taken from Fernando's slides.
\usepackage{ae,aecompl}
\usepackage{mathpazo,courier,euler}
\usepackage[scaled=.95]{helvet}

\definecolor{darkgreen}{rgb}{0,0.5,0}

\usepackage{listings}
\lstset{language=Python,
    basicstyle=\ttfamily\bfseries,
    commentstyle=\color{red}\itshape,
  stringstyle=\color{darkgreen},
  showstringspaces=false,
  keywordstyle=\color{blue}\bfseries}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Macros
\setbeamercolor{emphbar}{bg=blue!20, fg=black}
\newcommand{\emphbar}[1]
{\begin{beamercolorbox}[rounded=true]{emphbar} 
      {#1}
 \end{beamercolorbox}
}
\newcounter{time}
\setcounter{time}{0}
\newcommand{\inctime}[1]{\addtocounter{time}{#1}{\tiny \thetime\ m}}

\newcommand{\typ}[1]{\lstinline{#1}}

\newcommand{\kwrd}[1]{ \texttt{\textbf{\color{blue}{#1}}}  }

%%% This is from Fernando's setup.
% \usepackage{color}
% \definecolor{orange}{cmyk}{0,0.4,0.8,0.2}
% % Use and configure listings package for nicely formatted code
% \usepackage{listings}
% \lstset{
%    language=Python,
%    basicstyle=\small\ttfamily,
%    commentstyle=\ttfamily\color{blue},
%    stringstyle=\ttfamily\color{orange},
%    showstringspaces=false,
%    breaklines=true,
%    postbreak = \space\dots
% }


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title page
\title[Basic Python]{Matrices, Solution of equations}

\author[FOSSEE] {FOSSEE}

\institute[IIT Bombay] {Department of Aerospace Engineering\\IIT Bombay}
\date[] {31, October 2009\\Day 1, Session 4}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\pgfdeclareimage[height=0.75cm]{iitmlogo}{iitmlogo}
%\logo{\pgfuseimage{iitmlogo}}


%% Delete this, if you do not want the table of contents to pop up at
%% the beginning of each subsection:
\AtBeginSubsection[]
{
  \begin{frame}<beamer>
    \frametitle{Outline}
    \tableofcontents[currentsection,currentsubsection]
  \end{frame}
}

\AtBeginSection[]
{
  \begin{frame}<beamer>
    \frametitle{Outline}
    \tableofcontents[currentsection,currentsubsection]
  \end{frame}
}

% If you wish to uncover everything in a step-wise fashion, uncomment
% the following command: 
%\beamerdefaultoverlayspecification{<+->}

%\includeonlyframes{current,current1,current2,current3,current4,current5,current6}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DOCUMENT STARTS
\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}
  \frametitle{Outline}
  \tableofcontents
%  \pausesections
\end{frame}

\section{Matrices}

\begin{frame}
\frametitle{Matrices: Introduction}
We looked at the Van der Monde matrix in the previous session,\\ 
let us now look at matrices in a little more detail.
\end{frame}

\subsection{Initializing}
\begin{frame}[fragile]
\frametitle{Matrices: Initializing}
\begin{lstlisting}
In []: A = ([[5, 2, 4], 
            [-3, 6, 2], 
            [3, -3, 1]])

In []: A
Out[]: [[5, 2, 4], 
        [-3, 6, 2], 
        [3, -3, 1]]
\end{lstlisting}
\end{frame}

\subsection{Basic Operations}

\begin{frame}[fragile]
\frametitle{Transpose of a Matrix}
\begin{lstlisting}
In []: linalg.transpose(A)
Out[]: 
matrix([[ 5, -3,  3],
        [ 2,  6, -3],
        [ 4,  2,  1]])
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Sum of all elements}
  \begin{lstlisting}
In []: linalg.sum(A)
Out[]: 17
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Matrix Addition}
  \begin{lstlisting}
In []: B = matrix([[3,2,-1],
                   [2,-2,4],
                   [-1, 0.5, -1]])

In []: linalg.add(A, B)
Out[]: 
matrix([[ 8. ,  4. ,  3. ],
        [-1. ,  4. ,  6. ],
        [ 2. , -2.5,  0. ]])
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\frametitle{Matrix Multiplication}
\begin{lstlisting}
In []: linalg.multiply(A, B)
Out[]: 
matrix([[ 15. ,   4. ,  -4. ],
        [ -6. , -12. ,   8. ],
        [ -3. ,  -1.5,  -1. ]])
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\frametitle{Inverse of a Matrix}
\begin{small}
\begin{lstlisting}
In []: linalg.inv(A)
Out[]: 
array([[ 0.28571429, -0.33333333, -0.47619048],
       [ 0.21428571, -0.16666667, -0.52380952],
       [-0.21428571,  0.5       ,  0.85714286]])
\end{lstlisting}
\end{small}
\end{frame}

\begin{frame}[fragile]
\frametitle{Determinant}
\begin{lstlisting}
In []: det(A)
Out[]: 42.0
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\frametitle{Eigen Values and Eigen Matrix}
\begin{small}
\begin{lstlisting}
In []: linalg.eig(A)
Out[]: 
(array([ 7.,  2.,  3.]),
 matrix([[-0.57735027,  0.42640143,  0.37139068],
        [ 0.57735027,  0.63960215,  0.74278135],
        [-0.57735027, -0.63960215, -0.55708601]]))
\end{lstlisting}
\end{small}
\end{frame}

\begin{frame}[fragile]
\frametitle{Computing Norms}
\begin{lstlisting}
  In []: linalg.norm(A)
  Out[]: 10.63014581273465
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Single Value Decomposition}
  \begin{small}
  \begin{lstlisting}
In []: linalg.svd(A)
Out[]: 
(matrix([[-0.13391246, -0.94558684, -0.29653495],
        [ 0.84641267, -0.26476432,  0.46204486],
        [-0.51541542, -0.18911737,  0.83581192]]),
 array([ 7.96445022,  7.        ,  0.75334767]),
 matrix([[-0.59703387,  0.79815896,  0.08057807],
        [-0.64299905, -0.41605821, -0.64299905],
        [-0.47969029, -0.43570384,  0.7616163 ]]))
  \end{lstlisting}
  \end{small}
\end{frame}

\section{Solving linear equations}

\begin{frame}[fragile]
\frametitle{Solution of equations}
Consider,
  \begin{align*}
    3x + 2y - z  & = 1 \\
    2x - 2y + 4z  & = -2 \\
    -x + \frac{1}{2}y -z & = 0
  \end{align*}
Solution:
  \begin{align*}
    x & = 1 \\
    y & = -2 \\
    z & = -2
  \end{align*}
\end{frame}

\begin{frame}[fragile]
\frametitle{Solving using Matrices}
Let us now look at how to solve this using \kwrd{matrices}
  \begin{lstlisting}
    In []: A = matrix([[3,2,-1],
                       [2,-2,4],
                       [-1, 0.5, -1]])
    In []: b = matrix([[1], [-2], [0]])
    In []: x = linalg.solve(A, b)
    In []: Ax = dot(A, x)
    In []: allclose(Ax, b)
    Out[]: True
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\frametitle{Solution:}
\begin{lstlisting}
In []: x
Out[]: 
array([[ 1.],
       [-2.],
       [-2.]])

In []: Ax
Out[]: 
matrix([[  1.00000000e+00],
        [ -2.00000000e+00],
        [  2.22044605e-16]])
\end{lstlisting}
\end{frame}

\section{Summary}
\begin{frame}
  \frametitle{Summary}
So what did we learn??
  \begin{itemize}
  \item Matrices
    \begin{itemize}
      \item Transpose
      \item Addition
      \item Multiplication
      \item Inverse of a matrix
      \item Determinant
      \item Eigen values and Eigen matrix
      \item Norms
      \item Single Value Decomposition
    \end{itemize}
  \item Solving linear equations
  \end{itemize}
\end{frame}

\end{document}
